(function(){angular.module("angular-table",[]),angular.module("angular-table").service("attributeExtractor",function(){return{extractWidth:function(a){var b;return b=/([0-9]+px)/i.exec(a),b?b[0]:""},extractSortable:function(a){var b;return b=/(sortable)/i.exec(a),b?!0:!1},extractTitle:function(a){return a.attr("title")||a.attr("attribute")},extractAttribute:function(a){return a.attr("attribute")}}}),angular.module("angular-table").directive("atTable",["attributeExtractor",function(a){var b;return b=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(j=b.find("thead"),l=j.find("tr"),d={},r=l.find("th"),n=0,p=r.length;p>n;n++)i=r[n],i=angular.element(i),d[i.attr("attribute")]=i.html();for(l.remove(),h=b.find("td"),l=$("<tr></tr>"),o=0,q=h.length;q>o;o++)g=h[o],g=angular.element(g),c=a.extractAttribute(g),i=$("<th style='cursor: pointer; -webkit-user-select: none;'></th>"),k=d[c]||a.extractTitle(g),i.html(""+k),f=a.extractSortable(g.attr("class")),f&&(i.attr("ng-click","predicate = '"+c+"'; descending = !descending;"),e=angular.element("<i style='margin-left: 10px;'></i>"),e.attr("ng-class","getSortIcon('"+c+"')"),i.append(e)),m=a.extractWidth(g.attr("class")),i.attr("width",m),l.append(i);return j.append(l)},{restrict:"AC",scope:{list:"=",scope:"=",query:"=",pager:"="},compile:function(a){var e,f;return b(a),e=a.find("tbody"),f=e.find("tr"),f.attr("ng-repeat","item in list | limitTo:pager.fromPage() | limitTo: pager.itemsPerPage | orderBy:predicate:descending"),{post:function(a){return a.getSortIcon=function(b){return b!==a.predicate?"icon-minus":a.descending?"icon-chevron-down":"icon-chevron-up"}}}}}}]),angular.module("angular-table").directive("atImplicit",["attributeExtractor",function(a){return{restrict:"AC",compile:function(b){var e;return e=a.extractAttribute(b),b.append("{{item."+e+"}}")}}}]),angular.module("angular-table").directive("atPager",["attributeExtractor",function(){return{replace:!0,restrict:"E",template:"      <div class='pagination' style='margin: 0px;'>        <ul>          <li ng-class='{disabled: currentPage <= 0}'>            <a href='' ng-click='goToPage(currentPage - 1)'>&laquo;</a>          </li>          <li ng-class='{active: currentPage == page}' ng-repeat='page in pages'>            <a href='' ng-click='goToPage(page)'>{{page + 1}}</a>          </li>          <li ng-class='{disabled: currentPage >= numberOfPages - 1}'>            <a href='' ng-click='goToPage(currentPage + 1); normalize()'>&raquo;</a>          </li>        </ul>      </div>",scope:{instance:"=",list:"="},link:function(a){return a.currentPage=0,a.itemsPerPage=7,a.update=function(){var b;return a.numberOfPages=Math.ceil(a.list.length/a.itemsPerPage),a.pages=function(){var c,d,e;for(e=[],b=c=0,d=a.numberOfPages-1;d>=0?d>=c:c>=d;b=d>=0?++c:--c)e.push(b);return e}()},a.fromPage=function(){return a.itemsPerPage*a.currentPage-a.list.length},a.goToPage=function(b){return 0>b?b=0:b>a.numberOfPages-1&&(b=a.numberOfPages-1),a.currentPage=b},a.update(),a.instance=a,a.$watch("list",function(){return a.update()})}}}])}).call(this);